# Smart Autoscaler Configuration
# Copy this file to .env and customize for your environment

# ============================================
# Required Settings
# ============================================

# Prometheus URL (required)
PROMETHEUS_URL=http://prometheus-server.monitoring:9090

# Watched deployments (comma-separated)
# Format: namespace/deployment/hpa-name
WATCHED_DEPLOYMENTS=default/my-app/my-app-hpa

# ============================================
# Scaling Settings
# ============================================

# Check interval in seconds (default: 60)
CHECK_INTERVAL=60

# Target node CPU utilization percentage (default: 40)
TARGET_NODE_UTILIZATION=40

# Enable dry-run mode - no actual scaling (default: false)
DRY_RUN=false

# Enable predictive scaling (default: true)
ENABLE_PREDICTIVE=true

# Enable auto-tuning (default: true)
ENABLE_AUTOTUNING=true

# ============================================
# Cost Settings (USD)
# ============================================

# Cost per vCPU per hour (default: 0.04)
# GKE e2-standard: ~$0.033/vCPU-hour
# GKE n2-standard: ~$0.049/vCPU-hour
COST_PER_VCPU_HOUR=0.04

# Cost per GB memory per hour (default: 0.004)
COST_PER_GB_MEMORY_HOUR=0.004

# ============================================
# Logging Settings
# ============================================

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# Log format: json or text (default: json)
LOG_FORMAT=json

# ============================================
# Rate Limiting
# ============================================

# Prometheus queries per minute (default: 10)
PROMETHEUS_RATE_LIMIT=10

# Kubernetes API calls per minute (default: 20)
K8S_API_RATE_LIMIT=20

# ============================================
# Memory Management
# ============================================

# Memory warning threshold (default: 0.75)
MEMORY_WARNING_THRESHOLD=0.75

# Memory critical threshold (default: 0.9)
MEMORY_CRITICAL_THRESHOLD=0.9

# Memory check interval in seconds (default: 30)
MEMORY_CHECK_INTERVAL=30

# ============================================
# Webhooks (optional)
# ============================================

# Slack webhook URL for notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz

# Teams webhook URL for notifications
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/xxx
