apiVersion: v1
kind: ConfigMap
metadata:
  name: smart-autoscaler-config
  namespace: autoscaler-system
data:
  PROMETHEUS_URL: "http://prometheus-server.monitoring:9090"
  CHECK_INTERVAL: "60"
  TARGET_NODE_UTILIZATION: "40.0"
  DRY_RUN: "false"
  DB_PATH: "/data/autoscaler.db"
  ENABLE_PREDICTIVE: "true"
  ENABLE_AUTOTUNING: "true"
  COST_PER_VCPU_HOUR: "0.04"
  COST_PER_GB_MEMORY_HOUR: "0.004"  # Cost per GB memory per hour
  
  # Prediction Validation
  PREDICTION_MIN_ACCURACY: "0.60"  # Minimum 60% accuracy to trust predictions
  PREDICTION_MIN_SAMPLES: "10"  # Need 10 predictions before trusting
  
  # Logging
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"  # json or text
  
  # Rate Limiting
  PROMETHEUS_RATE_LIMIT: "10"  # Queries per second
  K8S_API_RATE_LIMIT: "20"  # API calls per second
  
  # Memory Management
  MEMORY_WARNING_THRESHOLD: "0.75"  # 75% of limit
  MEMORY_CRITICAL_THRESHOLD: "0.90"  # 90% of limit
  MEMORY_CHECK_INTERVAL: "30"  # Check every 30 seconds
  
  # Add your webhook URLs here
  # SLACK_WEBHOOK: "https://hooks.slack.com/..."
  # TEAMS_WEBHOOK: "https://outlook.office.com/..."
  # DISCORD_WEBHOOK: "https://discord.com/..."
