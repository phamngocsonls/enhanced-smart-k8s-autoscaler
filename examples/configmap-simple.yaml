apiVersion: v1
kind: ConfigMap
metadata:
  name: smart-autoscaler-config
  namespace: autoscaler-system
data:
  # ============================================
  # Prometheus Connection (REQUIRED)
  # ============================================
  PROMETHEUS_URL: "http://prometheus-server.monitoring:9090"
  
  # ============================================
  # Your Deployments (REQUIRED)
  # ============================================
  # Replace with your actual deployment names!
  
  # First deployment
  DEPLOYMENT_0_NAMESPACE: "default"
  DEPLOYMENT_0_NAME: "my-app"
  DEPLOYMENT_0_HPA_NAME: "my-app-hpa"
  
  # Second deployment (optional - uncomment to add more)
  # DEPLOYMENT_1_NAMESPACE: "production"
  # DEPLOYMENT_1_NAME: "api-service"
  # DEPLOYMENT_1_HPA_NAME: "api-service-hpa"
  
  # Third deployment (optional)
  # DEPLOYMENT_2_NAMESPACE: "production"
  # DEPLOYMENT_2_NAME: "worker-service"
  # DEPLOYMENT_2_HPA_NAME: "worker-service-hpa"
  
  # ============================================
  # Basic Settings (Optional - defaults shown)
  # ============================================
  CHECK_INTERVAL: "60"              # How often to check (seconds)
  TARGET_NODE_UTILIZATION: "30"     # Target node CPU % (lower = more headroom)
  DRY_RUN: "false"                  # Set to "true" to test without changes
  
  # ============================================
  # Features (Optional - defaults shown)
  # ============================================
  ENABLE_PREDICTIVE: "true"         # Predict future load
  ENABLE_AUTOTUNING: "true"         # Learn optimal settings
  
  # ============================================
  # Cost Settings (Optional - adjust for your cloud)
  # ============================================
  # Ratio: 1 vCPU : 8 GB memory (typical cloud pricing)
  COST_PER_VCPU_HOUR: "0.04"        # USD per vCPU per hour
  COST_PER_GB_MEMORY_HOUR: "0.005"  # USD per GB memory per hour
  
  # ============================================
  # Logging (Optional)
  # ============================================
  LOG_LEVEL: "INFO"                 # DEBUG, INFO, WARNING, ERROR
  LOG_FORMAT: "json"                # json or text
